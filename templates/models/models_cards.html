{% if models %}
  {% for model in models %}
    <div class="col-6 col-md-4">
      <a href="/profile/{{ model[0] }}" class="card-link-wrapper">
        <div class="card-box">
          <img src="/{{ model[2] or 'static/images/Sample_User_Icon.png' }}" alt="{{ _('Avatar') }}" class="avatar-vertical d-block neon-border">

          <div>{{ model[1] }}</div>

          {% if show_city %}
            <div>{{ _(model[3]) }}</div>
          {% endif %}

  {% if model[4] %}
    <span class="verified-icon">ðŸ”’ {{ _('Verified') }}</span>
  {% else %}
    <span class="verified-icon" style="visibility: hidden">ðŸ”’ {{ _('Verified') }}</span>
  {% endif %}
        </div>
      </a>
    </div>
  {% endfor %}
  
  {% if total_pages and total_pages > 1 %}
    <div class="col-12 mt-4">
      <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center" style="gap: 0.5rem;">
          {% if has_prev %}
            <li class="page-item">
              <button class="page-link btn btn-custom" onclick="loadPage({{ page - 1 }})" style="min-width: auto;">{{ _('Previous') }}</button>
            </li>
          {% endif %}
          
          {% for p in range(1, total_pages + 1) %}
            {% if p == page %}
              <li class="page-item active">
                <span class="page-link btn btn-custom" style="min-width: auto;">{{ p }}</span>
              </li>
            {% elif p == 1 or p == total_pages or (p >= page - 1 and p <= page + 1) %}
              <li class="page-item">
                <button class="page-link btn btn-custom" onclick="loadPage({{ p }})" style="min-width: auto;">{{ p }}</button>
              </li>
            {% elif p == page - 2 or p == page + 2 %}
              <li class="page-item">
                <span class="page-link" style="border: none; background: transparent; color: inherit;">...</span>
              </li>
            {% endif %}
          {% endfor %}
          
          {% if has_next %}
            <li class="page-item">
              <button class="page-link btn btn-custom" onclick="loadPage({{ page + 1 }})" style="min-width: auto;">{{ _('Next') }}</button>
            </li>
          {% endif %}
        </ul>
      </nav>
    </div>
  {% endif %}
{% else %}
  <p class="not-found-message text-shadow">{{ _('No models yet') }}</p>
{% endif %}


